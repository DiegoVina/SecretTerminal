var h=Object.defineProperty;var u=(o,t,e)=>t in o?h(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var s=(o,t,e)=>u(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();class l{constructor(){s(this,"output");s(this,"input");s(this,"history",[]);s(this,"historyIndex",-1);s(this,"maxLines",10);s(this,"introMessage","Terminal secreta sobre DIEGO VIÃ‘A. Escriba 'ayuda' para obtener la lista de comandos.");s(this,"introElement",null);if(this.output=document.getElementById("output"),this.input=document.getElementById("command-input"),!this.output||!this.input){console.error("ERROR: No se encontraron elementos necesarios en el DOM");return}this.input.addEventListener("keydown",t=>this.handleInput(t)),this.render()}handleInput(t){if(t.key==="Enter"){const e=this.input.value.trim();e&&(this.history.push(e),this.historyIndex=this.history.length,this.processCommand(e)),this.input.value=""}else(t.key==="ArrowUp"||t.key==="ArrowDown")&&this.navigateHistory(t.key)}navigateHistory(t){if(t==="ArrowUp"&&this.historyIndex>0)this.historyIndex--;else if(t==="ArrowDown"&&this.historyIndex<this.history.length-1)this.historyIndex++;else{this.historyIndex=this.history.length,this.input.value="";return}this.input.value=this.history[this.historyIndex]||""}processCommand(t){const e=this.addToOutput(`$ ${t}`);if(t==="clear"){this.clearOutput();return}const r=document.getElementById(t);r?this.showSection(r,e):this.addToOutput("Comando no encontrado. Escriba 'ayuda' para obtener la lista completa de comandos."),this.paginate(),this.scrollToBottom()}showSection(t,e){t.classList.add("active"),e.insertAdjacentElement("afterend",t),this.paginate()}addToOutput(t){const e=document.createElement("p");return e.textContent=t,this.output.appendChild(e),e}clearOutput(){this.output.innerHTML="",this.render()}paginate(){const t=Array.from(this.output.children);for(;t.length>this.maxLines;)t[0]===this.introElement&&t.shift(),this.output.removeChild(t[0]),t.shift()}scrollToBottom(){this.output.scrollTop=this.output.scrollHeight}render(){if(!this.introElement){this.introElement=document.createElement("div"),sessionStorage.getItem("hasShownIntro")||(this.introElement.classList.add("typewriter"),sessionStorage.setItem("hasShownIntro","true"));const t=document.createElement("p");t.textContent=this.introMessage,this.introElement.appendChild(t)}this.output.appendChild(this.introElement)}}document.addEventListener("DOMContentLoaded",()=>new l);
